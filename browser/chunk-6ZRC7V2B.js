import{a as P,b as j,c as F,d as V,e as $,f as H,g as x}from"./chunk-HLBHB3DP.js";import{i as N,o as Y,p as q}from"./chunk-N6KI75DQ.js";import{$ as T,Ab as L,Bb as R,Cb as O,H as p,I as f,Ka as c,La as D,Ma as m,Pa as C,Qa as b,Ra as M,U as i,Xb as G,Y as u,g as y,gb as I,hb as h,la as v,lb as B,ma as g,nb as E,qa as k,ra as o,sa as r,ua as S,vb as w,wa as _,xa as d,zb as A}from"./chunk-EJQ56QMN.js";function J(a,e){if(a&1&&(o(0,"mat-card-content")(1,"p"),c(2),r()()),a&2){let t=d();i(2),m(" ",t.description," ")}}function K(a,e){if(a&1){let t=S();o(0,"mat-card",1)(1,"mat-card-header")(2,"div",2)(3,"mat-card-title"),c(4),r(),o(5,"div",3)(6,"mat-card-subtitle"),c(7),C(8,"date"),r(),o(9,"span",4),c(10),r()()()(),v(11,J,3,1,"mat-card-content"),o(12,"mat-card-actions",5)(13,"button",6),_("click",function(){let s=p(t),l=d();return f(l.toggleSuccess(s))}),c(14,"\u041E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u043A\u0430\u043A \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u043E"),r(),o(15,"button",7),_("click",function(){let s=p(t),l=d();return f(l.remove(s))}),c(16,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),r()()()}if(a&2){let t=e;i(4),D(t.title),i(3),m(" ",M(8,6,t.createdAt,"HH:mm dd.MM.yyyy")," \u0433. "),i(2),k("ngClass",t.status?"status-done":"status-pending"),i(),m(" ",t.status?"\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0430":"\u041D\u0435 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0430"," "),i(),g(t.description?11:-1),i(2),k("disabled",t.status)}}var z=class a{constructor(e,t,n,s,l){this.route=e;this.titleService=t;this.taskService=n;this.router=s;this.dialog=l;this.titleService.title=`\u0417\u0430\u0434\u0430\u0447\u0430 \u2116${this.route.snapshot.paramMap.get("id")}`}task$=y;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.task$=this.taskService.getTaskById(e))}remove(e){this.dialog.open(x,{data:{title:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",message:`\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443 "${e.title}"?`}}).afterClosed().subscribe(n=>{n&&(this.taskService.deleteTask(e.id),this.router.navigate(["/tasks"]))})}toggleSuccess(e){this.dialog.open(x,{data:{title:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",message:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u0447\u0438 \u043D\u0430 \u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0430?"}}).afterClosed().subscribe(n=>{n&&this.taskService.toggleStatus(e.id)})}static \u0275fac=function(t){return new(t||a)(u(B),u(Y),u(q),u(E),u(N))};static \u0275cmp=T({type:a,selectors:[["app-task"]],decls:3,vars:3,consts:[["fxLayout","column","fxLayoutGap","10px"],["appearance","outlined"],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%"],["fxLayout","column","fxLayoutAlign","end end"],[3,"ngClass"],["align","end"],["matButton","",3,"click","disabled"],["matButton","",3,"click"]],template:function(t,n){if(t&1&&(o(0,"div",0),v(1,K,17,9,"mat-card",1),C(2,"async"),r()),t&2){let s;i(),g((s=b(2,1,n.task$))?1:-1,s)}},dependencies:[O,R,L,A,w,I,h,P,F,H,j,V,$,G],styles:[".status-done[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-weight:500}.status-pending[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-weight:500}"]})};export{z as Task};
